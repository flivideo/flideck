# FliDeck Requirements

**Version:** 0.1.0
**Status:** Draft
**Last Updated:** 2025-12-18

---

## Purpose

FliDeck is a **local-first presentation harness** that discovers, mounts, and displays folder-based HTML artifacts generated by Claude Code agents.

It solves one problem: **viewing and navigating generated visual assets without manual file management or browser tab chaos.**

FliDeck is not a presentation builder, editor, or templating engine. It is a host that observes and displays what agents produce.

---

## Core Concepts

### Presentation

A **presentation** is a folder containing:
- One `index.html` (required entry point)
- One or more HTML asset files (solo decks)

The folder is the atomic unit. If a folder has an `index.html`, it is displayable.

### Asset

An **asset** is a self-contained HTML file within a presentation folder.

Assets may contain:
- Embedded CSS
- Embedded JavaScript
- External font references (Google Fonts, etc.)

Assets are the source of truth for their own rendering behavior.

### Index

The `index.html` serves as:
- Navigation hub for the presentation
- Visual inventory of available assets
- Entry point the app loads first

The index is authored by agents, not generated by the app.

### Host vs Artifact Responsibility

| Responsibility | Owner |
|----------------|-------|
| Folder discovery | Host (FliDeck) |
| Asset listing/navigation | Host |
| Frame/chrome UI | Host |
| Asset content rendering | Artifact |
| Internal navigation (slides, interactions) | Artifact |
| CSS/JS behavior | Artifact |

**The app provides navigation around assets, not inside them.**

---

## Discovery & Convention

### Folder Structure

```
presentations/
├── {presentation-name}/
│   ├── index.html          # Required - entry point
│   ├── cheatsheet.html     # Optional - solo deck
│   ├── decision-tree.html  # Optional - solo deck
│   ├── slides.html         # Optional - solo deck
│   └── ...
```

### Discovery Rules

1. The app watches a configured root directory
2. Any subfolder containing `index.html` is a valid presentation
3. All `.html` files in the folder are considered assets
4. No manifest required (convention over configuration)

### What the App Assumes

- Folders are self-contained
- `index.html` exists and is valid HTML
- Assets are static (no server-side rendering)
- File changes may occur asynchronously (via agent activity)

### What the App Does Not Assume

- Any specific CSS framework
- Any specific JavaScript behavior
- Relationships between assets (beyond folder co-location)
- Schema or metadata about content

---

## Rendering Model

### Mounting Strategy

**Soft isolation preferred:**
- Mount assets inside app DOM
- Preserve app chrome (header, navigation, controls)
- Allow assets to render with their own styles

**Fallback option:**
- Iframe isolation if CSS/JS conflicts prove unmanageable
- Decision can be made per-implementation, not per-asset

### No Rewriting Guarantee

The app will **never**:
- Modify asset HTML
- Inject CSS into assets
- Inject JavaScript into assets
- Rewrite links or paths

The app will **only**:
- Wrap assets in a container
- Provide external navigation
- Observe file system changes

### Agent Compatibility Contract

To ensure assets render correctly in FliDeck, agents should:

1. **Self-contain styles** - All CSS embedded or linked externally
2. **Avoid conflicting globals** - Namespace CSS classes where practical
3. **Use standard HTML5** - No framework-specific bootstrapping required
4. **Handle own responsiveness** - Assets manage their own viewport behavior

This contract will be refined as implementation reveals friction points. Existing assets can be regenerated to comply.

---

## Navigation Responsibilities

### What the App Provides

- List of available presentations (folders)
- List of assets within current presentation
- Switch between presentations
- Switch between assets
- Back/forward navigation
- Visual indication of current location

### What the App Does Not Provide

- Slide navigation within assets
- Search within asset content
- Asset editing
- Asset creation
- Asset preview thumbnails (future consideration)

---

## Non-Goals

The following are explicitly **out of scope** for this version:

| Feature | Status |
|---------|--------|
| Slide editing | Out of scope |
| Template management | Out of scope |
| Brand management | Out of scope |
| Plugin system | Out of scope |
| Legacy asset support | Out of scope (regenerate instead) |
| Multiple projects | Future (single root for now) |
| Scene Deck / constrained layouts | Out of scope |
| Data panel integrations | Future |
| Asset search | Future |

**Rationale:** The goal is a minimal, working harness. Additional features will be vibe-coded in focused 1-5 hour blocks as needs emerge.

---

## Future Considerations

These items are acknowledged but not designed:

### Manifest Support
Optional `manifest.json` for richer metadata:
- Asset titles, descriptions
- Suggested ordering
- Tags or categories

### Multiple Projects
Switch between multiple presentation roots. Requires project concept.

### Data Panels
Side panel showing context from external sources (FliHub, etc.). Requires plugin-like architecture.

### Thumbnail Previews
Visual previews of assets in navigation. Requires screenshot generation or static images.

### Alternative Render Modes
- Full-screen mode
- Print mode
- Export to PDF

These are not promised, merely noted for future consideration.

---

## Technical Context

### Stack (Reference Only)

The following stack has been selected but does not affect requirements:

**Frontend:** React 19, TypeScript, Vite, TailwindCSS, TanStack Query
**Backend:** Express 5, Socket.io, Chokidar (file watching)
**Architecture:** Monorepo with shared types

### File Watching

The backend watches the presentations directory using Chokidar:
- Debounced change detection
- Socket.io events for real-time UI updates
- No polling

---

## Success Criteria

Version 0.1.0 is complete when:

1. App discovers presentations from a configured root folder
2. App displays list of available presentations
3. User can select a presentation and see its assets
4. User can switch between assets
5. Assets render correctly with their own styles
6. File changes in watched folders trigger UI refresh
7. Basic navigation (back, forward, home) works

Nothing else is required for v0.1.0.

---

## Glossary

| Term | Definition |
|------|------------|
| **Presentation** | A folder containing index.html and asset files |
| **Asset** | A self-contained HTML file within a presentation |
| **Index** | The index.html entry point for a presentation |
| **Host** | FliDeck - the application providing chrome and navigation |
| **Artifact** | Synonym for asset; emphasizes agent-generated origin |
| **Solo Deck** | A standalone visual asset (vs constrained slide decks) |
| **Harness** | The minimal infrastructure that holds and displays artifacts |

---

**End of Requirements**
