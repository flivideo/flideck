# FliDeck Knowledge Base

**Purpose:** Single source of truth for understanding FliDeck's architecture, data models, agent integration, and the relationships between all moving parts.

**Audience:** Developers, AI agents, future maintainers

**Last Updated:** 2025-12-26

---

## Table of Contents

1. [System Overview](#1-system-overview)
2. [Data Model](#2-data-model)
3. [Presentation Types](#3-presentation-types)
4. [Manifest Schema](#4-manifest-schema)
5. [The Iframe Boundary](#5-the-iframe-boundary)
6. [Agent-FliDeck Contract](#6-agent-flideck-contract)
7. [Flow Diagrams](#7-flow-diagrams)
8. [API Reference Summary](#8-api-reference-summary)
9. [Decision Log](#9-decision-log)
10. [Common Pitfalls](#10-common-pitfalls)

---

## 1. System Overview

FliDeck is a **presentation viewer** that discovers, organizes, and displays HTML slides generated by AI agents.

```
┌─────────────────────────────────────────────────────────────────────────┐
│                              FliDeck                                     │
│  ┌──────────────────┐    ┌─────────────────────────────────────────┐   │
│  │     SIDEBAR      │    │              CONTENT AREA                │   │
│  │                  │    │  ┌─────────────────────────────────────┐ │   │
│  │  [Presentations] │    │  │           TAB BAR (optional)        │ │   │
│  │  [Assets/Slides] │    │  │  [Mary] [John] [Winston] [Epic 1]   │ │   │
│  │                  │    │  ├─────────────────────────────────────┤ │   │
│  │  Display Mode:   │    │  │                                     │ │   │
│  │  - Flat          │    │  │            IFRAME                   │ │   │
│  │  - Grouped       │    │  │     (presentation content)          │ │   │
│  │                  │    │  │                                     │ │   │
│  └──────────────────┘    │  │  ← Loads index HTML or slide HTML   │ │   │
│                          │  │                                     │ │   │
│                          │  └─────────────────────────────────────┘ │   │
│                          └─────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────────────────┘
```

### Key Principles

1. **FliDeck is a VIEWER** - It displays content, agents CREATE content
2. **Manifest is source of truth** - `index.json` defines structure, order, relationships
3. **Two rendering contexts** - FliDeck chrome (React) vs Iframe content (static HTML)
4. **Agent-friendly APIs** - Agents read/write via HTTP, don't need to understand internals

---

## 2. Data Model

### Entity Relationships

```
PRESENTATION (folder on disk)
    │
    ├── index.json (manifest - SOURCE OF TRUTH)
    │
    ├── TABS[] (optional - for tabbed presentations)
    │   ├── Tab: mary    → index-mary.html
    │   ├── Tab: john    → index-john.html
    │   └── Tab: winston → index-winston.html
    │
    ├── GROUPS{} (optional - for organizing slides)
    │   ├── Group: overview  (tabId: null     → appears in all tabs)
    │   ├── Group: api       (tabId: "mary"   → appears only in Mary tab)
    │   └── Group: tutorials (tabId: "john"   → appears only in John tab)
    │
    └── SLIDES/ASSETS[] (HTML files)
        ├── Slide: intro.html        (group: null       → root/ungrouped)
        ├── Slide: api-reference.html (group: "api"     → in API group)
        └── Slide: tutorial-1.html    (group: "tutorials" → in Tutorials group)
```

### Cardinality

```
Presentation  1 ──────── * Tab           (0 or more tabs)
Presentation  1 ──────── * Group         (0 or more groups)
Presentation  1 ──────── * Slide/Asset   (1 or more slides)

Tab           1 ──────── * Group         (groups can belong to a tab via tabId)
Group         1 ──────── * Slide         (slides can belong to a group)

Tab           1 ──────── 1 Index File    (each tab has an index-{tab}.html)
```

### Inheritance/Visibility Rules

| Entity | Tab Selected | Visibility |
|--------|--------------|------------|
| Slide with no group | Any | Always visible (root assets) |
| Slide in group with no tabId | Any | Always visible |
| Slide in group with tabId="mary" | Mary | Visible |
| Slide in group with tabId="mary" | John | Hidden |
| Tab index file (index-mary.html) | Any | Hidden from sidebar (it's navigation, not content) |

---

## 3. Presentation Types

### Type 1: Flat (No Structure)

```
my-presentation/
├── index.json          ← minimal or empty
├── index.html          ← single index page
├── slide-1.html
├── slide-2.html
└── slide-3.html
```

**Manifest:**
```json
{
  "slides": []  // Empty - FliDeck discovers from filesystem
}
```

**Sidebar:** Simple list of all slides
**Content:** Single iframe, loads slides directly

---

### Type 2: Grouped (Organized Slides)

```
my-presentation/
├── index.json          ← defines groups
├── index.html          ← single index page with all cards
├── intro.html
├── api-reference.html
├── api-examples.html
├── tutorial-1.html
└── tutorial-2.html
```

**Manifest:**
```json
{
  "groups": {
    "intro": { "label": "Introduction", "order": 1 },
    "api": { "label": "API Reference", "order": 2 },
    "tutorials": { "label": "Tutorials", "order": 3 }
  },
  "slides": [
    { "file": "intro.html", "group": "intro" },
    { "file": "api-reference.html", "group": "api" },
    { "file": "api-examples.html", "group": "api" },
    { "file": "tutorial-1.html", "group": "tutorials" },
    { "file": "tutorial-2.html", "group": "tutorials" }
  ]
}
```

**Sidebar:** Collapsible group headers with slides underneath
**Content:** Single iframe, loads slides directly

---

### Type 3: Tabbed (Multiple Perspectives)

```
my-presentation/
├── index.json              ← defines tabs AND groups with tabId
├── index.html              ← main index (overview)
├── index-mary.html         ← Mary's perspective index
├── index-john.html         ← John's perspective index
├── mary-workflow.html
├── mary-checklist.html
├── john-overview.html
└── shared-intro.html
```

**Manifest:**
```json
{
  "tabs": [
    { "id": "mary", "label": "Mary", "file": "index-mary.html", "order": 1 },
    { "id": "john", "label": "John", "file": "index-john.html", "order": 2 }
  ],
  "groups": {
    "mary-work": { "label": "Mary's Work", "tabId": "mary", "order": 1 },
    "john-work": { "label": "John's Work", "tabId": "john", "order": 1 },
    "shared": { "label": "Shared", "order": 0 }  // No tabId = visible in all tabs
  },
  "slides": [
    { "file": "mary-workflow.html", "group": "mary-work" },
    { "file": "mary-checklist.html", "group": "mary-work" },
    { "file": "john-overview.html", "group": "john-work" },
    { "file": "shared-intro.html", "group": "shared" }
  ]
}
```

**Sidebar:** Groups filtered by active tab + shared groups
**Content:** Tab bar at top, iframe loads tab's index file OR individual slide

---

### Type Detection (Auto Mode)

FliDeck auto-detects presentation type:

```
Has tabs[] array?
    YES → TABBED (use grouped sidebar, show tab bar)
    NO  → Has groups{} with slides assigned?
              YES → GROUPED (collapsible sections)
              NO  → FLAT (simple list)
```

---

## 4. Manifest Schema

### Complete Schema

```json
{
  "meta": {
    "name": "Presentation Name",
    "purpose": "What this presentation is for",
    "displayMode": "flat | grouped",  // Override auto-detection
    "created": "2025-12-26",
    "updated": "2025-12-26"
  },

  "tabs": [
    {
      "id": "unique-id",           // Required: URL-safe identifier
      "label": "Display Name",     // Required: What user sees
      "file": "index-{id}.html",   // Required: Index file for this tab
      "order": 1                   // Required: Sort order
    }
  ],

  "groups": {
    "group-id": {
      "label": "Display Name",     // Required
      "order": 1,                  // Required: Sort order
      "tabId": "tab-id"            // Optional: If set, only shows in that tab
    }
  },

  "slides": [
    {
      "file": "slide.html",        // Required: Filename
      "title": "Slide Title",      // Optional: Display name override
      "group": "group-id",         // Optional: Group assignment
      "recommended": true,         // Optional: Highlight in UI
      "tags": ["tag1", "tag2"]     // Optional: For filtering
    }
  ]
}
```

### What Each Field Controls

| Field | Controls | If Missing |
|-------|----------|------------|
| `tabs[]` | Tab bar visibility, iframe src for tabs | No tab bar, flat/grouped mode only |
| `tabs[].file` | Which HTML loads when tab clicked | Tab is broken |
| `groups{}` | Sidebar section headers | All slides at root level |
| `groups{}.tabId` | Which tab shows this group | Group shows in ALL tabs |
| `slides[]` | Slide metadata and ordering | FliDeck discovers from filesystem |
| `slides[].group` | Which section slide appears in | Slide at root level |

### Legacy Format

Older manifests may have:
```json
{
  "assets": {
    "order": ["slide1.html", "slide2.html"]
  }
}
```

FliDeck converts this to `slides[]` format on read.

---

## 5. The Iframe Boundary

### Two Separate Worlds

```
┌─────────────────────────────────────────────────────────────────────┐
│  FLIDECK CHROME (React App)                                         │
│  - Sidebar navigation                                               │
│  - Tab bar                                                          │
│  - Display mode switcher                                            │
│  - Keyboard shortcuts                                               │
│  - State management (localStorage)                                  │
│                                                                     │
│  SOURCE: client/src/                                                │
│  STATE: React state + localStorage                                  │
│  DATA: Fetched from FliDeck API                                     │
├─────────────────────────────────────────────────────────────────────┤
│  IFRAME (Presentation Content)                                      │
│  - Static HTML slides                                               │
│  - Index pages with cards                                           │
│  - Slide-specific CSS/JS                                            │
│                                                                     │
│  SOURCE: Presentation folder (HTML files)                           │
│  STATE: None (static content)                                       │
│  DATA: Self-contained in HTML                                       │
└─────────────────────────────────────────────────────────────────────┘
```

### What Crosses the Boundary

| Direction | What | How |
|-----------|------|-----|
| FliDeck → Iframe | Which content to display | `iframe.src` (file URL) or `iframe.srcdoc` (content) |
| Iframe → FliDeck | Nothing currently | (Future: postMessage for interactions?) |

### Content Loading Modes

1. **Tab Index Mode** (clicking a tab):
   - `iframe.src = "http://localhost:5201/presentations/{id}/index-{tab}.html"`
   - Loads the tab's index file directly

2. **Slide Mode** (clicking a slide in sidebar):
   - `iframe.srcdoc = "<html>...slide content...</html>"`
   - Loads slide content inline

### Index HTML Structure (Inside Iframe)

Index files contain "cards" that represent slides:

```html
<!-- index-mary.html -->
<div class="cards-grid">
  <div class="card" data-slide="mary-workflow.html">
    <h3>Mary's Workflow</h3>
    <p>Description...</p>
  </div>
  <div class="card" data-slide="mary-checklist.html">
    <h3>Checklist</h3>
    <p>Description...</p>
  </div>
</div>
```

**Problem:** This card structure is INSIDE the iframe. FliDeck can't easily read it to discover slide-to-tab mappings.

**Solution needed:** Parse index HTML to extract card→slide mappings and populate manifest.

---

## 6. Agent-FliDeck Contract

### Principles

1. **FliDeck is the schema guardian** - Agents don't write manifest directly, they call APIs
2. **Discovery over documentation** - Agents query FliDeck for capabilities, don't rely on embedded knowledge
3. **Graceful degradation** - If FliDeck is offline, agents can write files directly (fallback)

### Agent Workflow

```
┌─────────────────┐         ┌─────────────────┐         ┌─────────────────┐
│     AGENT       │         │    FLIDECK      │         │   FILESYSTEM    │
│  (SoloDeck,     │         │    (Server)     │         │   (HTML files)  │
│   Claude, etc)  │         │                 │         │                 │
└────────┬────────┘         └────────┬────────┘         └────────┬────────┘
         │                           │                           │
         │  1. GET /api/health       │                           │
         │ ─────────────────────────>│                           │
         │                           │                           │
         │  2. GET /api/capabilities │                           │
         │ ─────────────────────────>│                           │
         │     (discover what's      │                           │
         │      possible)            │                           │
         │                           │                           │
         │  3. GET /api/presentations/{id}                       │
         │ ─────────────────────────>│                           │
         │     (get current state)   │                           │
         │                           │                           │
         │  4. Write HTML file       │                           │
         │ ──────────────────────────────────────────────────────>
         │                           │                           │
         │  5. POST /api/presentations/{id}/slides               │
         │ ─────────────────────────>│                           │
         │     { file: "new.html",   │  6. Update manifest       │
         │       group: "api",       │ ─────────────────────────>│
         │       tabId: "mary" }     │                           │
         │                           │                           │
         │  7. Socket: presentations:updated                     │
         │ <─────────────────────────│                           │
         │                           │                           │
```

### Key APIs for Agents

| Purpose | Endpoint | What Agent Learns |
|---------|----------|-------------------|
| Is FliDeck running? | `GET /api/health` | Can I use APIs or fallback to direct file writes? |
| What can I do? | `GET /api/capabilities` | **[MISSING - FR-27]** Human-readable capability description |
| What exists? | `GET /api/presentations` | List of all presentations |
| Current structure? | `GET /api/presentations/{id}` | Tabs, groups, slides, current state |
| What's the schema? | `GET /api/schema/manifest` | JSON Schema for validation |
| Add a slide | `POST /api/presentations/{id}/slides` | Register new slide with metadata |
| Bulk add | `POST .../manifest/slides/bulk` | Add many slides at once |
| Sync filesystem | `PUT .../manifest/sync` | Auto-discover slides from files |

### Missing: Capability Discovery (FR-27)

Agents need an endpoint that returns human-readable descriptions:

```
GET /api/capabilities

Response:
{
  "name": "FliDeck Presentation Server",
  "version": "0.1.0",
  "description": "Manages HTML slide presentations with optional tabs and groups",

  "concepts": {
    "presentation": "A folder containing HTML slides and an index.json manifest",
    "tab": "A perspective/persona view (e.g., Mary, John). Each tab has its own index HTML.",
    "group": "A collection of related slides. Can be assigned to a tab via tabId.",
    "slide": "An individual HTML file displayed in the viewer"
  },

  "workflows": {
    "add_slide": {
      "description": "Add a new slide to a presentation",
      "steps": [
        "1. Write your HTML file to the presentation folder",
        "2. POST /api/presentations/{id}/slides with { file, group?, title? }",
        "3. If using tabs, include the group's tabId in the manifest"
      ]
    },
    "create_tabbed_presentation": {
      "description": "Create a presentation with multiple perspectives",
      "steps": [
        "1. POST /api/presentations/{id}/tabs for each tab",
        "2. Create index-{tabId}.html files with cards",
        "3. Create groups with tabId assignments",
        "4. Add slides to appropriate groups"
      ]
    }
  },

  "endpoints": [
    { "method": "GET", "path": "/api/presentations", "purpose": "List all presentations" },
    { "method": "POST", "path": "/api/presentations/{id}/slides", "purpose": "Add slide to manifest" },
    // ... etc
  ]
}
```

---

## 7. Flow Diagrams

### Flow 1: User Clicks a Tab

```
User clicks [Mary] tab
         │
         ▼
┌─────────────────────────────────────┐
│ setActiveContainerTabId("mary")     │
│ (PresentationPage.tsx)              │
└─────────────────┬───────────────────┘
                  │
         ┌────────┴────────┐
         ▼                 ▼
┌─────────────────┐  ┌─────────────────────────┐
│ TabBar updates  │  │ Sidebar filters         │
│ highlight       │  │                         │
└─────────────────┘  │ groupedAssets = groups  │
                     │   where tabId == "mary" │
                     │   OR tabId is null      │
                     │                         │
                     │ rootAssets = unchanged  │
                     │   (always visible)      │
                     └─────────────────────────┘
                              │
                              ▼
                     ┌─────────────────────────┐
                     │ AssetViewer loads       │
                     │ iframe.src =            │
                     │   index-mary.html       │
                     └─────────────────────────┘
```

### Flow 2: Agent Adds a Slide

```
Agent creates slide HTML
         │
         ▼
┌─────────────────────────────────────┐
│ Agent writes: my-slide.html         │
│ to presentation folder              │
└─────────────────┬───────────────────┘
                  │
                  ▼
┌─────────────────────────────────────┐
│ Agent calls:                        │
│ POST /api/presentations/{id}/slides │
│ {                                   │
│   "file": "my-slide.html",          │
│   "group": "mary-work",             │
│   "title": "My New Slide"           │
│ }                                   │
└─────────────────┬───────────────────┘
                  │
                  ▼
┌─────────────────────────────────────┐
│ FliDeck:                            │
│ 1. Validates request                │
│ 2. Updates index.json               │
│ 3. Emits socket: presentations:updated
└─────────────────┬───────────────────┘
                  │
                  ▼
┌─────────────────────────────────────┐
│ FliDeck UI:                         │
│ 1. Receives socket event            │
│ 2. Invalidates TanStack Query cache │
│ 3. Re-fetches presentation data     │
│ 4. Sidebar updates with new slide   │
└─────────────────────────────────────┘
```

### Flow 3: Self-Healing from Index HTML (PROPOSED - FR-26)

```
┌─────────────────────────────────────┐
│ Presentation folder contains:       │
│ - index.json (empty/minimal)        │
│ - index-mary.html (has cards)       │
│ - index-john.html (has cards)       │
│ - Various slide HTML files          │
└─────────────────┬───────────────────┘
                  │
         User/Agent triggers sync
                  │
                  ▼
┌─────────────────────────────────────┐
│ PUT /api/presentations/{id}/        │
│     manifest/sync-from-index        │
└─────────────────┬───────────────────┘
                  │
                  ▼
┌─────────────────────────────────────┐
│ FliDeck:                            │
│ 1. Find index-*.html files          │
│    → Detect tabs: mary, john        │
│                                     │
│ 2. Parse each index HTML            │
│    → Find card elements             │
│    → Extract slide references       │
│    → Determine order (L→R, T→B)     │
│                                     │
│ 3. Update manifest:                 │
│    → Create tabs[] entries          │
│    → Create groups with tabId       │
│    → Assign slides to groups        │
│                                     │
│ 4. Save index.json                  │
└─────────────────┬───────────────────┘
                  │
                  ▼
┌─────────────────────────────────────┐
│ Result: Manifest now reflects       │
│ the structure defined in index HTML │
│ files. Sidebar shows correct slides │
│ per tab.                            │
└─────────────────────────────────────┘
```

---

## 8. API Reference Summary

### Core APIs (Implemented)

| Method | Endpoint | Purpose |
|--------|----------|---------|
| GET | `/api/presentations` | List all presentations |
| GET | `/api/presentations/:id` | Get single presentation with all data |
| GET | `/api/presentations/:id/manifest` | Get raw manifest JSON |
| PUT | `/api/presentations/:id/manifest` | Replace entire manifest |
| PATCH | `/api/presentations/:id/manifest` | Partial manifest update |

### Slide APIs (FR-16)

| Method | Endpoint | Purpose |
|--------|----------|---------|
| POST | `/api/presentations/:id/slides` | Add slide to manifest |
| PUT | `/api/presentations/:id/slides/:slideId` | Update slide metadata |
| DELETE | `/api/presentations/:id/slides/:slideId` | Remove slide from manifest |

### Tab APIs (FR-22)

| Method | Endpoint | Purpose |
|--------|----------|---------|
| POST | `/api/presentations/:id/tabs` | Create tab |
| PUT | `/api/presentations/:id/tabs/:tabId` | Rename tab |
| DELETE | `/api/presentations/:id/tabs/:tabId` | Delete tab |
| PUT | `/api/presentations/:id/tabs/order` | Reorder tabs |

### Group-Tab Relationship (FR-22)

| Method | Endpoint | Purpose |
|--------|----------|---------|
| PUT | `/api/presentations/:id/groups/:groupId/parent` | Assign group to tab |
| DELETE | `/api/presentations/:id/groups/:groupId/parent` | Remove group from tab |

### Bulk Operations (FR-21)

| Method | Endpoint | Purpose |
|--------|----------|---------|
| POST | `.../manifest/slides/bulk` | Add multiple slides |
| POST | `.../manifest/groups/bulk` | Add multiple groups |
| PUT | `.../manifest/sync` | Sync manifest with filesystem |
| POST | `.../manifest/validate` | Validate manifest |

### Missing APIs

| Method | Endpoint | Purpose | FR |
|--------|----------|---------|-----|
| GET | `/api/capabilities` | Agent-friendly capability discovery | FR-27 |
| PUT | `.../manifest/sync-from-index` | Parse index HTML to populate manifest | FR-26 |

---

## 9. Decision Log

### Why "tabbed" display mode was removed (FR-24)

**Before:** Sidebar had three modes: flat, grouped, tabbed
**After:** Sidebar has two modes: flat, grouped. Tabs are a separate navigation layer.

**Reason:** Container tabs (tab bar at top of content) replaced sidebar tabs. Having both was confusing and redundant. The "tabbed" mode in the sidebar dropdown was an old concept that no longer had a renderer.

### Why root assets appear in all tabs (FR-25)

**Decision:** Slides without a group (root assets) appear in ALL tabs, not just the first tab.

**Reason:** Root assets are "universal" content. If you want tab-specific content, assign it to a group with a tabId. This is the least surprising default behavior.

### Why manifest is source of truth (not HTML files)

**Decision:** `index.json` is authoritative. Index HTML files are generated output.

**Reason:**
1. JSON is machine-readable, HTML parsing is fragile
2. Single source prevents sync issues
3. Agents can update via API without HTML manipulation
4. FliDeck can regenerate index HTML from manifest (future)

### Why separate index files per tab

**Decision:** Each tab has `index-{tabId}.html` instead of one index with sections.

**Reason:**
1. Each persona/perspective has its own landing page
2. Cards can have different styling/layout per tab
3. Cleaner mental model: tab = separate index file
4. Allows tabs to be completely independent (different card structures)

### Duplicate slides in sync-from-index (FR-26)

**Behavior:** When sync-from-index finds the same slide referenced in multiple index files, "first wins" (alphabetically by tab id).

**Example:** `pm-workflow-intro.html` appears in both `index-backup.html` and `index-john.html`. It gets assigned to `backup-slides` group (backup comes before john alphabetically).

**Why duplicates occur:** Agents creating persona-based presentations often include shared/common content across multiple personas. This is valid - personas naturally share context.

**Current limitation:** The manifest schema assumes one slide entry per file. A slide can only belong to one group.

**Future consideration:** Support slides appearing in multiple menu positions without file duplication. The manifest could allow:
```json
{
  "slides": [
    { "file": "shared-intro.html", "group": "mary-slides" },
    { "file": "shared-intro.html", "group": "john-slides" }
  ]
}
```
This would show the same slide in multiple places in the navigation. Source of truth remains one HTML file; only the menu positioning is duplicated.

---

## 10. Common Pitfalls

### Pitfall 1: Empty sidebar after clicking tabs

**Symptom:** User clicks a tab, sidebar shows nothing.

**Causes:**
1. localStorage has stale "tabbed" display mode (BUG-10 - fixed)
2. Groups don't have `tabId` linking them to tabs
3. Slides don't have `group` property
4. Manifest `slides[]` array is empty

**Fix:** Ensure manifest has proper tab→group→slide relationships.

### Pitfall 2: Slides show in wrong tab

**Symptom:** Clicking "Mary" tab shows John's slides.

**Cause:** Group has wrong `tabId` or no `tabId`.

**Fix:** Update group's `tabId` to match correct tab.

### Pitfall 3: New slides don't appear

**Symptom:** Agent created HTML file but it's not in sidebar.

**Causes:**
1. Agent didn't call FliDeck API to register slide
2. Manifest not updated

**Fix:** Call `POST /api/presentations/{id}/slides` after creating HTML file.

### Pitfall 4: Tab bar doesn't show

**Symptom:** Presentation has index-mary.html etc but no tab bar.

**Cause:** Manifest doesn't have `tabs[]` array defined.

**Fix:** Add tabs to manifest via API or direct edit.

### Pitfall 5: Manifest and HTML out of sync

**Symptom:** Sidebar shows different slides than index HTML cards.

**Cause:** Manifest was updated but index HTML wasn't (or vice versa).

**Fix:** Use `sync-from-index` (FR-26) to reconcile, or regenerate index HTML from manifest.

---

## Appendix: File Naming Conventions

### Current Convention

| File | Purpose |
|------|---------|
| `index.json` | Manifest (source of truth) |
| `index.html` | Main index page (flat) or overview (tabbed) |
| `index-{tabId}.html` | Tab-specific index page |
| `*.html` | Individual slides |

### Proposed Convention (for clarity)

| Current | Proposed | Reason |
|---------|----------|--------|
| `index.html` | `presentation.html` | Avoids web server default confusion |
| `index-mary.html` | `presentation-tab-mary.html` | Clearly indicates tab relationship |

**Migration:** Would require updating manifest schema and agent templates.

---

## Related Documents

- `docs/prd/fr-16-agent-slide-api.md` - Slide CRUD API
- `docs/prd/fr-19-manifest-schema-api.md` - Manifest endpoints
- `docs/prd/fr-21-agent-manifest-tooling.md` - Bulk operations, sync
- `docs/prd/fr-22-tab-management.md` - Tab CRUD API
- `docs/prd/fr-24-container-tab-navigation.md` - Tab bar implementation
- `CLAUDE.md` - Quick API reference

---

**Document Maintainers:** Update this document when:
- New concepts are added (new entity types, relationships)
- API contracts change
- Major architectural decisions are made
- Common pitfalls are discovered
